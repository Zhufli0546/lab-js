<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Hw2</title>

    <link rel="stylesheet" type="text/css" href="css/Hw2.css">
    <script>
        window.onload = function () {
            document.getElementById("N").onblur = checkName;
            document.getElementById("P").onblur = cheackPassword;
            document.getElementById("D").onblur = checkDate;
            document.getElementById("clean").onclick = cleanForm;
        }
    </script>

    <script>

        var nameValue
        var passwordValue
        var dateValue

        function buttonDisable() {

            if (nameValue && passwordValue && dateValue) {

                document.getElementById('G').disabled = false;

            } else {

                document.getElementById('G').disabled = true;

            }

        }
        function cleanForm() {

            nameValue = false;

            passwordValue = false;

            dateValue = false;

            document.getElementById("N").innerHTML = "";

            document.getElementById("P").innerHTML = "";

            document.getElementById("D").innerHTML = "";

            buttonDisable();

        }
        function checkName() {

            var thePassword = document.getElementById("N").value;

            var re = /^[\u4e00-\u9fa5]{2,}$/;

            if (thePassword.length >= 2) {

                if (re.test(thePassword)) {

                    nameValue = true;

                    document.getElementById("n").innerHTML = "<img src='imgs/img1.png'>";

                } else {

                    nameValue = false;

                    document.getElementById("n").innerHTML = "<img src='imgs/img2.png'> <span class='c1'>格式錯誤</span>";
                }

            } else {

                nameValue = false;

                document.getElementById("n").innerHTML = "<img src='imgs/img2.png'> <span class='c1'>至少兩個字</span>";

            }

            buttonDisable();
        }
        function cheackPassword() {

            var thePassword = document.getElementById("P").value;

            var re = /^(?=.*[0-9])(?=.*[A-Za-z])(?=.*[!@#\$%\^&\*])(?!.*[\u4e00-\u9fa5])(?!.*[\s]).{6,}$/;

            if (thePassword.length >= 6) {

                if (re.test(thePassword)) {

                    passwordValue = true;

                    document.getElementById("p").innerHTML = "<img src='imgs/img1.png'>";

                } else {

                    passwordValue = false;

                    document.getElementById("p").innerHTML = "<img src='imgs/img2.png'> <span class='c1'>格式錯誤</span>";

                }
            } else {

                passwordValue = false;

                document.getElementById("p").innerHTML = "<img src='imgs/img2.png'> <span class='c1'>至少六個字<span>";
            }
            buttonDisable();
        }

        function checkDate() {
            var theDate = document.getElementById("D").value;
            var re = /^\d{4}[\/]{1}\d{1,2}[\/]{1}\d{1,2}$/;
            var thisDate = new Date(theDate);
            var thisDay = thisDate.getDate();
            if (re.test(theDate)) {

                var theDateSubDay = theDate.split("/");

                if (theDateSubDay[2] == thisDay) {
                    dateValue = true;
                    document.getElementById("d").innerHTML = "<img src='imgs/img1.png'>";
                } else {
                    dateValue = false;
                    document.getElementById("d").innerHTML = "<img src='imgs/img2.png'><span class='c1'>格式有誤<span>";
                }
            } else {
                dateValue = false;
                document.getElementById("d").innerHTML = "<img src='imgs/img2.png'><span class='c1'>格式有誤<span>";
            }
            buttonDisable();
        }
    </script>
</head>

<body>
        <div id="allpage">
                <header>
                    <nav>
                        <ul class="manu">
                            <li><a href="Hw1.html">HomeWork 1</a></li>
                            <li><a href="Hw2.html">HomeWork 2</a></li>
                            <li><a href="Hw3.html">HomeWork 3</a></li>
                            <li><a href="Hw4.html">HomeWork 4</a></li>
                            <li><a href="Hw5.html">HomeWork 5</a></li>
                        </ul>
                    </nav>
                </header>

        
        
            <form action="#" method="post" id="form">

                <fieldset>

                    <!-- <p class="ptitle">Form Check</p> -->
                    <legend class="kkk">Form Check</legend>
                    
                    <div class="title">
                        
                        <label class="s">姓名：</label><input class="f" type="text" id="N">

                        <span id="n"></span><br>

                        <label class="a">(不可空白，至少兩個字且必須中文字)</label>

                    </div><br>

                    <div class="title">

                        <label class="s">密碼：</label><input class="f" type="password" id="P">

                        <span id="p"></span><br>

                        <label class="a">(至少六個字、包含英文、數字、特殊字元)</label>

                    </div><br>

                    <div class="title">

                        <label class="s">日期：</label><input class="f" type="text" id="D">

                        <span id="d"></span><br>

                        <label class="a">(格式：西元年/月/日(yyyy/mm/dd))</label>

                    </div><br>



                    <div class="title1">

                        <label class="s"> </label>

                        <input style="color: black;font-weight: bold;background-color: green" type="button" id="G"
                            disabled="disabled" value="送出">

                        <input style="color: black;font-weight: bold;background-color: red" type="reset" id="clean" value="清除">

                    </div><br>

                </fieldset>

            </form>
        
  </div>
    
</body>

</html>